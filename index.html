<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TikTok Downloader</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:'Inter',sans-serif;background:#0d0d0d;color:#fff}
.header{padding:25px 0;text-align:center;font-size:27px;font-weight:600;color:#00e676}
.container{max-width:620px;margin:40px auto;padding:25px;background:#151515;border-radius:18px;box-shadow:0 0 30px rgba(0,0,0,0.4)}
label{font-size:15px;margin-bottom:6px;display:block;color:#ccc}
input{width:100%;padding:14px;border-radius:12px;background:#222;border:1px solid #333;color:#eee;font-size:16px;outline:none}
.buttons{display:flex;gap:10px;margin-top:15px}
button{flex:1;padding:14px;background:#00e676;color:#000;border:0;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:.2s}
button:hover{opacity:.85}
.result{margin-top:25px;text-align:center}
.result a{display:block;margin-top:10px;padding:12px 20px;background:#00e676;color:#000;border-radius:12px;font-weight:600;font-size:17px;text-decoration:none}
.thumb{margin-top:25px;text-align:center}
.thumb img{width:100%;border-radius:12px}
.title{margin-top:10px;font-size:17px;font-weight:600;color:#fff}
.duration{color:#bbb;margin-top:5px}
.copy-btn, .wa-btn{margin-top:10px;display:inline-block;padding:10px 16px;border-radius:10px;font-size:14px;font-weight:600;text-decoration:none;color:#000;background:#00e676;margin-right:5px}
.copy-btn:hover,.wa-btn:hover{opacity:.85}
.error{margin-top:20px;color:#ff5252;font-size:15px;font-weight:600}
.loader{margin-top:25px;display:none;justify-content:center}
.spinner{width:38px;height:38px;border:4px solid #333;border-top-color:#00e676;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.footer{text-align:center;margin:40px 0;color:#777;font-size:14px}
</style>
</head>
<body>

<div class="header">TikTok Downloader</div>

<div class="container">
<label>Link Video TikTok</label>
<input id="url" placeholder="Tempel link disini">

<div class="buttons">
<button onclick="video()">Video HD</button>
<button onclick="music()">Music MP3</button>
</div>

<div id="load" class="loader"><div class="spinner"></div></div>

<div class="thumb" id="thumb"></div>
<div class="result" id="result"></div>
<div id="error" class="error"></div>
</div>

<div class="footer">No Watermark • HD 1080p • HQ MP3 • Preview Ready</div>

<script>
function showLoad(){document.getElementById("error").innerHTML="";document.getElementById("thumb").innerHTML="";document.getElementById("result").innerHTML="";document.getElementById("load").style.display="flex"}
function hideLoad(){document.getElementById("load").style.display="none"}
function errorMsg(t){document.getElementById("error").innerHTML=t}

async function fetchData(u){
let r=await fetch("https://www.tikwm.com/api/?url="+encodeURIComponent(u))
let j=await r.json()
if(j.code!==0)return null
return j.data
}

function preview(d){
document.getElementById("thumb").innerHTML=
`<img src="${d.cover}"><div class="title">${d.title}</div><div class="duration">Durasi: ${d.duration}s</div>
<a class="copy-btn" onclick="copyTxt('${d.play}')">Copy Video Link</a>
<a class="wa-btn" href="https://wa.me/?text=${encodeURIComponent(d.play)}" target="_blank">Share WhatsApp</a>`
}

function copyTxt(t){navigator.clipboard.writeText(t)}

async function video(){
showLoad()
let u=document.getElementById("url").value
if(!u)return hideLoad()
let d=await fetchData(u)
hideLoad()
if(!d)return errorMsg("Link tidak valid atau video tidak ditemukan.")
preview(d)
document.getElementById("result").innerHTML=
`<a href="${d.play}" target="_blank">Original (No WM)</a>
 <a href="${d.hdplay}" target="_blank">HD 1080p</a>`
}

async function music(){
showLoad()
let u=document.getElementById("url").value
if(!u)return hideLoad()
let d=await fetchData(u)
hideLoad()
if(!d)return errorMsg("Link tidak valid atau musik tidak ditemukan.")
preview(d)
document.getElementById("result").innerHTML=`<a href="${d.music}" target="_blank">Download MP3</a>`
}
</script>

</body>
</html>
